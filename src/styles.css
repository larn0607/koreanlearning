:root {
  --bg: #0b1020;
  --panel: #121933;
  --muted: #8aa0ff;
  --text: #e7ecff;
  --accent: #6ea8fe;
  --danger: #ff6b6b;
  --border: #22305c;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial;
  background: linear-gradient(180deg, #0b1020, #0f1430);
  color: var(--text);
}

.container { min-height: 100%; display: grid; grid-template-rows: auto 1fr auto; }
.header { display:flex; align-items:center; gap:16px; padding:16px 24px; border-bottom:1px solid var(--border); background: rgba(255,255,255,0.02); backdrop-filter: blur(6px); position: sticky; top: 0; z-index: 10; flex-wrap: wrap; }
.brand { color: var(--text); text-decoration:none; font-weight:700; letter-spacing:0.3px; }
.nav { display:flex; gap:8px; overflow:auto hidden; }
.nav-link { color: var(--muted); text-decoration:none; padding:6px 10px; border-radius:8px; }
.nav-link.active, .nav-link:hover { background: var(--panel); color: var(--text); }
.main { padding: 24px; }
.footer { padding: 16px 24px; color: #9db1ff; border-top:1px solid var(--border); background: rgba(255,255,255,0.02); }

.home-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap:16px; }
.card { background: var(--panel); border:1px solid var(--border); border-radius:12px; padding:20px; text-decoration:none; color: var(--text); transition: transform .12s ease, border-color .12s ease; }
.card:hover { transform: translateY(-2px); border-color: #3b57a8; }

.toolbar { display:flex; align-items:center; gap:8px; background: var(--panel); border:1px solid var(--border); padding:12px; border-radius:12px; flex-wrap: wrap; }
.spacer { flex:1; }
.search { background:#0e1530; border:1px solid var(--border); color:var(--text); padding:8px 10px; border-radius:8px; width: 260px; max-width: 100%; }

.btn { background:#1b2960; color:var(--text); border:1px solid var(--border); padding:8px 12px; border-radius:8px; cursor:pointer; }
.btn:hover { border-color:#3b57a8; }
ui.btn:disabled { opacity:0.5; cursor:not-allowed; filter:grayscale(0.2); }
.btn:disabled:hover { border-color: var(--border); }
.btn.small { padding:6px 10px; }
.btn.danger { background: #3a1a1a; border-color: #6b2a2a; }
.btn.danger:hover { border-color: #ff8a8a; }
.btn.primary { background:#2646b3; border-color:#3b57a8; }
.btn.primary:hover { border-color:#6ea8fe; }

.badge { display:inline-flex; align-items:center; gap:6px; font-size:12px; text-transform:uppercase; letter-spacing:0.4px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); background: #0e1530; color:#aab8ff; }
.badge.vocab { background:#0f1b3f; color:#9dc2ff; border-color:#27418f; }
.badge.grammar { background:#1b133f; color:#d3a9ff; border-color:#4b2a8f; }
.badge.notes { background:#1f3f1b; color:#a9ffd3; border-color:#2a8f4b; }

.table { margin-top:12px; background: var(--panel); border:1px solid var(--border); border-radius:12px; overflow: auto; }
.thead { display:grid; grid-template-columns: 1.2fr 1.2fr 1.2fr 0.7fr; gap:1px; background:#0e1530; color:#aab8ff; padding:10px 12px; font-weight:600; }
.tbody { display:flex; flex-direction: column; }
.row { display:grid; grid-template-columns: 1.2fr 1.2fr 1.2fr 0.7fr; padding:10px 12px; border-top:1px solid var(--border); align-items:center; }

/* Category cards table uses 3 fixed columns to align actions */
.table.cards .thead { grid-template-columns: 2fr 1.2fr 0.8fr; }
.table.cards .row { grid-template-columns: 2fr 1.2fr 0.8fr; }
.table.cards .actions { justify-content:flex-end; align-items:center; }
.table.cards .thead { align-items:center; }
.table.cards .thead > div:last-child { justify-self: end; text-align: right; }
.cell { display:flex; align-items:center; }
.cell-input { width: 100%; background: transparent; border: 1px dashed transparent; color: var(--text); padding: 6px 8px; border-radius:6px; }
.cell-input:focus { outline: none; border-color: #3b57a8; background: #0e1530; }
.link { cursor: pointer; }
.actions { display:flex; gap:8px; justify-content:flex-end; }
.empty { padding: 16px; color: #8aa0ff; text-align: center; }

.modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.5); display:flex; align-items:center; justify-content:center; padding: 16px; z-index: 1000; }
.modal { background: var(--panel); border:1px solid var(--border); border-radius:12px; max-width: 720px; width: 100%; padding: 20px; max-height: 85vh; position: relative; z-index: 1001; user-select: text !important; -webkit-user-select: text !important; -moz-user-select: text !important; -ms-user-select: text !important; }
.modal * { user-select: text !important; -webkit-user-select: text !important; -ms-user-select: text !important; }
.modal input, .modal textarea, .modal button { user-select: auto !important; -webkit-user-select: auto !important; -ms-user-select: auto !important; }
.modal .value, .modal .label, .modal p, .modal div:not(.modal-actions):not(.form-grid), .modal span { pointer-events: auto !important; -webkit-touch-callout: default; -webkit-user-select: text !important; -ms-user-select: text !important; user-select: text !important; cursor: text !important; }
.modal .value, .modal span:not(button span) { -webkit-user-select: text !important; -ms-user-select: text !important; user-select: text !important; }
.modal .detail, .modal div[style*="display:grid"] { overflow: visible !important; }
.modal-title { margin-top: 0; }
.label { display:inline-block; width: 110px; color:#aab8ff; }
.modal .label { display: block; width: auto; margin-bottom: 4px; }
.value { display:block; font-weight:600; margin-top: 2px; white-space: pre-wrap; }
.modal-actions { display:flex; gap:8px; justify-content:flex-end; margin-top:16px; flex-wrap: wrap; }
.input { width:100%; background:#0e1530; border:1px solid var(--border); color:var(--text); padding:10px 12px; border-radius:8px; }
.input:focus { outline:none; border-color:#3b57a8; }
.form-grid { display:grid; grid-template-columns: 1fr; gap:12px; }
.helper { color:#aab8ff; font-size:12px; }

@media (max-width: 960px) {
  .main { padding: 16px; }
  .header { padding: 12px 16px; }
}

@media (max-width: 720px) {
  .main { padding: 12px; }
  .header { gap: 8px; }
  .nav { width: 100%; }
  .toolbar { gap: 8px; }
  .search { flex: 1; width: 100%; }
  .spacer { display:none; }
  .thead, .row { grid-template-columns: 1fr; }
  .table.cards .thead, .table.cards .row { grid-template-columns: 1fr; }
  .actions { justify-content:flex-start; flex-wrap: wrap; }
  .label { display:block; width:auto; margin-bottom: 4px; }
  .modal { padding: 16px; border-radius: 10px; }
}

/* Override card hover effects for modals */
.flashcard-container:hover,
.check-modal-card:hover {
  transform: none !important;
  border-color: #ddd !important;
}

